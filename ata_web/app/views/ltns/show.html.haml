%h1= "Scheme: #{@ltn.scheme_name}"

%h2 Journeys
.container
  .row
    .col-sm-2 Disabled
    .col-sm-2 Journey ID
    .col-sm-2 Journey Type
- @ltn.journeys.each do |journey|
  .row
    .col-sm-2
      = simple_form_for [@ltn, journey], data: { turbo: true } do |f|
        = f.input :disabled, input_html: { onchange: "this.form.requestSubmit();" }, hint: false, label: false
    .col-sm-2
      = link_to "[#{journey.id}]", [@ltn, journey]
    .col-sm-2
      = journey.type

.my-4
  = link_to "Download Journey Runs", new_ltn_journey_run_download_path(@ltn)

.my-4
  Upload a CSV file with your journeys.  It must have the headers in this format:
  %a{href: "/journeys_upload.csv"} journeys_upload.csv
  .col-3
    = simple_form_for :journeys_upload, url: ltn_journeys_uploads_path(@ltn) do |f|
      = f.input :file, as: :file, input_html: { accept: "text/csv" }
      = f.submit "Upload new journeys"

.my-5
  = link_to "New journey", new_ltn_journey_path(@ltn), class: "btn btn-primary"

.my-4
  = link_to "Edit this scheme", edit_ltn_path(@ltn)
  %br
  = link_to "Back to schemes", ltns_path

- if @ltn.journeys.empty?
  .my-4
    = link_to "Destroy this scheme", @ltn, class: "btn btn-danger", method: :delete, confirm: true
